[TOC]
# POW_POS_DPOS

### POW
Proof of Work 工作量证明

###### 简介

区块链全网的所有节点参与交易信息的打包，最后一个区块由谁打包取决于POW。每个节点都在利用自己的计算资源去计算一个区块的Hash值，谁最先计算出符合条件的Hash，就认为谁获得了记账权挖到了一个合法的区块。

##### 原理

对于256位的哈希值来说设定挖矿条件的方式往往是：前多少位为0。targetBits便是用于指定目标哈希需满足的条件的，即计算的哈希值必须前targetBits位为0.

而对于一个256位的二进制串判断前多少位为0显得很繁琐，我们可以巧妙地通过位移运算将这一判断转换为一个数学问题。eg:

假设哈希值得位数为8，当前targetBits为2(256位亦然，用8举例是位数少便于描述)，那么目标哈希值必须满足前两位都是0。从临界情况入手，当第2位不为0时的最小的数为0100 0000，只要小于这个数就是符合条件的哈希值。那么这些数是怎么找到的呢？

1.8位哈希值最小的非0值为0000 0001
2.该值左移8-targetBits位，0000 0001 << 6 = 0100 0000 = target
3.if hash < target 区块合法

###### 不足
1.计算Hash耗费的资源较大。
2.存在51%攻击尽管可能性很小。

### POS

Proof of Stake 股权证明

通俗地讲，就是所有节点中谁拥有的代币多且持有时间长，谁就有足够的可能性获得记账权。就像在银行存钱，存的数额越大获得的利息也就越大。

相比POW，POS一定程度低提高了处理效率，但是也相应地离去中心化远了一点，因为记账权容易集中到持币多的大佬手中。

### DPOS

Delegated Proof of Stake 委任权益证明

DPOS是基于POS的一个改进，其目的就是为了防止记账权集中到持币较多的人手中。

DPOS就像现实中的人民代表大会，全网会通过投票选举一定数量的委托人(可以叫超级节点)，相比POW，DPOS不仅提升了处理效率，也避免了记账权容易落到算力较大的节点手中的弊端。




